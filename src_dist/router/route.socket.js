let{SetMessageRoom,AddMessageItem,GetTargetRoomInfo}=require("../api/api.message");module.exports=a=>{a.on("connection",o=>{o.on("key of connect",e=>{o.join(e)}),o.on("key of disconnect",e=>{o.leave(e)}),o.on("sendMessage",async e=>{var o=await SetMessageRoom(e),o=(await AddMessageItem(e,o._id),await GetTargetRoomInfo(e.senderId,e.reciverId));a.to(e.reciverId).emit("reciveMessage",o)})})};// build date : 2025. 5. 21. 오후 7:06:44